<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
    <link rel="stylesheet" href="/static/styles.css?v=1">
</head>

<body>
    <div id="app">
        <!-- Authentication UI -->
        <div id="auth-container" style="display: none;">
            <div class="auth-card">
                <h1>üç≥ Recipe Assistant</h1>
                <p>Sign in to start managing your recipes and getting cooking help!</p>
                <button id="google-login-btn" class="google-login-btn">
                    <svg width="18" height="18" viewBox="0 0 18 18">
                        <path fill="#4285F4" d="M17.64 9.2c0-.64-.06-1.26-.16-1.84H9v3.48h4.84c-.21 1.12-.85 2.06-1.81 2.7v2.26h2.93c1.71-1.57 2.68-3.88 2.68-6.6z"/>
                        <path fill="#34A853" d="M9 18c2.43 0 4.47-.8 5.96-2.18l-2.93-2.26c-.81.54-1.84.86-3.03.86-2.33 0-4.3-1.57-5.01-3.69H1.07v2.33C2.55 15.98 5.56 18 9 18z"/>
                        <path fill="#FBBC04" d="M3.99 10.73c-.18-.54-.28-1.12-.28-1.73s.1-1.19.28-1.73V4.94H1.07C.39 6.31 0 7.61 0 9s.39 2.69 1.07 4.06l2.92-2.33z"/>
                        <path fill="#EA4335" d="M9 3.58c1.32 0 2.5.45 3.44 1.34l2.58-2.58C13.47.9 11.43 0 9 0 5.56 0 2.55 2.02 1.07 4.94l2.92 2.33C4.7 5.15 6.67 3.58 9 3.58z"/>
                    </svg>
                    Sign in with Google
                </button>
            </div>
        </div>

        <!-- Main Chat Interface -->
        <div id="chat-container" style="display: none;">
            <!-- User Info Header -->
            <div id="user-header">
                <div class="user-info">
                    <img id="user-avatar" src="" alt="User Avatar" class="user-avatar">
                    <span id="user-name">Loading...</span>
                </div>
                <button id="logout-btn" class="logout-btn">Logout</button>
            </div>

            <div id="response-pane">
                <div id="spinner" class="spinner" style="display: none;"></div>
            </div>
            <div id="input-container">
                <button id="image-upload-button" aria-label="Upload Image">
                    <img src="/static/upload-icon.png" alt="Upload" />
                </button>
                <input type="file" id="image-upload" accept="image/*" />
                <button id="mic-button" aria-label="Start Recording">
                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12,14 C14.21,14 16,12.21 16,10 L16,4 C16,1.79 14.21,0 12,0 C9.79,0 8,1.79 8,4 L8,10 C8,12.21 9.79,14 12,14 Z" fill="#666666"/>
                        <path d="M19,10 C19,13.87 15.87,17 12,17 C8.13,17 5,13.87 5,10 L3,10 C3,14.41 6.72,18.09 11,18.44 L11,22 L13,22 L13,18.44 C17.28,18.09 21,14.41 21,10 L19,10 Z" fill="#666666"/>
                    </svg>
                    <span class="tooltip">Speech recognition is not supported in this browser</span>
                </button>
                <input type="text" id="user-input" placeholder="Type your message here..." />
                <button id="send-button">Send</button>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="/static/app.js"></script>
</body>
</html>
