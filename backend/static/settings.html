<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Recipe Assistant</title>
    <link rel="stylesheet" href="/static/styles.css?v=1">
</head>

<body>
    <div id="app">
        <!-- Authentication UI -->
        <div id="auth-container" style="display: none;">
            <div class="auth-card">
                <h1>ğŸ³ Recipe Assistant</h1>
                <p>Sign in to access settings!</p>
                <button id="google-login-btn" class="google-login-btn">
                    <svg width="18" height="18" viewBox="0 0 18 18">
                        <path fill="#4285F4" d="M17.64 9.2c0-.64-.06-1.26-.16-1.84H9v3.48h4.84c-.21 1.12-.85 2.06-1.81 2.7v2.26h2.93c1.71-1.57 2.68-3.88 2.68-6.6z"/>
                        <path fill="#34A853" d="M9 18c2.43 0 4.47-.8 5.96-2.18l-2.93-2.26c-.81.54-1.84.86-3.03.86-2.33 0-4.3-1.57-5.01-3.69H1.07v2.33C2.55 15.98 5.56 18 9 18z"/>
                        <path fill="#FBBC04" d="M3.99 10.73c-.18-.54-.28-1.12-.28-1.73s.1-1.19.28-1.73V4.94H1.07C.39 6.31 0 7.61 0 9s.39 2.69 1.07 4.06l2.92-2.33z"/>
                        <path fill="#EA4335" d="M9 3.58c1.32 0 2.5.45 3.44 1.34l2.58-2.58C13.47.9 11.43 0 9 0 5.56 0 2.55 2.02 1.07 4.94l2.92 2.33C4.7 5.15 6.67 3.58 9 3.58z"/>
                    </svg>
                    Sign in with Google
                </button>
            </div>
        </div>

        <!-- Settings Interface -->
        <div id="settings-container" style="display: none;">
            <!-- User Info Header -->
            <div id="user-header">
                <div class="user-info">
                    <img id="user-avatar" src="" alt="User Avatar" class="user-avatar">
                    <span id="user-name">Loading...</span>
                </div>
                <div class="header-actions">
                    <a href="/" class="back-btn">â† Back to Chat</a>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </div>

            <!-- Settings Content -->
            <div id="settings-content">
                <h1>âš™ï¸ Settings</h1>

                <!-- Bulk Recipe Upload Section -->
                <div class="settings-section">
                    <h2>ğŸ“ Bulk Recipe Import</h2>
                    <p>Upload a YAML file containing one or more recipes to import them all at once.</p>

                    <div class="upload-area">
                        <input type="file" id="recipe-file-input" accept=".yaml,.yml" style="display: none;">
                        <div id="upload-dropzone" class="upload-dropzone">
                            <div class="upload-icon">ğŸ“„</div>
                            <p><strong>Click to select</strong> or drag and drop a YAML file</p>
                            <small>Supports .yaml and .yml files</small>
                        </div>
                        <button id="upload-btn" class="upload-btn" disabled>Upload Recipes</button>
                    </div>

                    <!-- Upload Status -->
                    <div id="upload-status" class="upload-status" style="display: none;"></div>

                    <!-- Format Help -->
                    <details class="format-help">
                        <summary>ğŸ“– Supported YAML Formats</summary>
                        <div class="format-examples">
                            <h4>Single Recipe:</h4>
                            <pre><code>recipe:
  title: "Pasta Carbonara"
  estimated_cooking_time: "20 minutes"
  serves: 4
  ingredients:
    - name: "Pasta"
      qty: "400g"
  steps:
    - step: "Cook pasta"</code></pre>

                            <h4>Multiple Recipes (List Format):</h4>
                            <pre><code>recipes:
  - recipe:
      title: "Recipe 1"
      # ... recipe details
  - recipe:
      title: "Recipe 2"
      # ... recipe details</code></pre>

                            <h4>Multiple Recipes (Document Separator):</h4>
                            <pre><code>recipe:
  title: "Recipe 1"
  # ... recipe details
---
recipe:
  title: "Recipe 2"
  # ... recipe details</code></pre>
                        </div>
                    </details>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/settings.js"></script>
</body>
</html>
